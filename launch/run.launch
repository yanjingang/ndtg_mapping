<!-- -->
<launch>
  <!-- input params  -->
  <arg name="lidar_topic" default="/points_raw" />
  <arg name="imu_topic" default="/imu_raw" />
  <arg name="odom_topic" default="/vehicle/odom" />
  <arg name="gps_topic" default="/gps/fix" />

  <arg name="use_imu" default="true" />
  <arg name="use_odom" default="true" />
  <arg name="imu_upside_down" default="false" />
  <arg name="incremental_voxel_update" default="false" />

  <arg name="tf_x" default="0" />
  <arg name="tf_y" default="0" />
  <arg name="tf_z" default="0.38" />
  <arg name="tf_yaw" default="-1.57" />
  <arg name="tf_pitch" default="0" />
  <arg name="tf_roll" default="0" />

  <!-- output params  -->
  <arg name="map_topic" default="/ndtg/map" />
  <arg name="pose_topic" default="/ndtg/current_pose" />
  <arg name="gps_path_topic" default="/gps/path" />

  <!-- ndtg_mapping  -->
  <node pkg="ndtg_mapping" type="queue_counter" name="queue_counter" output="screen"/>
  <node pkg="ndtg_mapping" type="ndtg_mapping" name="ndtg_mapping" output="screen">
    <param name="lidar_topic" value="$(arg lidar_topic)" />
    <param name="imu_topic" value="$(arg imu_topic)" />
    <param name="odom_topic" value="$(arg odom_topic)" />
    <param name="gps_topic" value="$(arg gps_topic)" />

    <param name="use_imu" value="$(arg use_imu)" />
    <param name="use_odom" value="$(arg use_odom)" />
    <param name="imu_upside_down" value="$(arg imu_upside_down)" />
    <param name="incremental_voxel_update" value="$(arg incremental_voxel_update)" />

    <param name="tf_x" value="$(arg tf_x)" />
    <param name="tf_y" value="$(arg tf_y)" />
    <param name="tf_z" value="$(arg tf_z)" />
    <param name="tf_yaw" value="$(arg tf_yaw)" />
    <param name="tf_pitch" value="$(arg tf_pitch)" />
    <param name="tf_roll" value="$(arg tf_roll)" />

    <param name="map_topic" value="$(arg map_topic)" />
    <param name="pose_topic" value="$(arg pose_topic)" />
    <param name="gps_path_topic" value="$(arg gps_path_topic)" />
  </node>

  <!-- rviz  -->
  <node name="rviz" pkg="rviz" type="rviz" args="-d $(find ndtg_mapping)/rviz/gps_path.rviz"/>

</launch>
